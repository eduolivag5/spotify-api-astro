---
import { getUserSavedPlaylists } from "../../lib/spotify";
import PlaylistItem from "./PlaylistItem.astro";

// Traemos 12 para asegurar que llenamos incluso pantallas ultrawide
const playlists = await getUserSavedPlaylists(12);
---

<div class="w-full overflow-hidden">
  <div 
    class="flex flex-nowrap items-center gap-6 py-4 px-2 
           overflow-hidden select-none
           isolate [transform:translateZ(0)]"
  >
    {
      playlists && playlists.length > 0 ? (
        playlists.map((playlist) => (
          <div class="flex-shrink-0 w-[140px] [transform:translateZ(0)] will-change-transform antialiased">
            <PlaylistItem playlist={playlist} />
          </div>
        ))
      ) : (
        <div class="w-full py-10 text-center border border-white/5 rounded-2xl bg-white/[0.02]">
          <p class="text-zinc-500 text-[10px] uppercase tracking-widest antialiased">
            No tienes playlists guardadas
          </p>
        </div>
      )
    }
  </div>
</div>