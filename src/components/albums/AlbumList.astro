---
import { getUserSavedAlbums } from "../../lib/spotify";
import type { SpotifyAlbum } from "../../types/spotify";
import AlbumListItem from "./AlbumListItem.astro";

const savedItems = await getUserSavedAlbums(20);
---

<ul class="flex flex-col gap-0.5 px-2 overflow-y-auto overflow-x-hidden flex-1 custom-scrollbar pb-4">
  {
    savedItems.length > 0 ? (
      savedItems.map(({ album }: { album: SpotifyAlbum }) => (
        <AlbumListItem album={album} />
      ))
    ) : (
      <li class="p-4 text-xs text-zinc-500 text-center italic">
        Tu biblioteca está vacía.
      </li>
    )
  }
</ul>

<style>
  /* Scrollbar Invisible por defecto, aparece al hacer hover */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: transparent;
    border-radius: 10px;
  }
  .custom-scrollbar:hover::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
  }
</style>